<section id="v4p" ng-controller="VotingController as voting">
    <div class="row-fluid">
        <div ng-if="voting.notStarted()" class="bg-white row-1080 text-center register-excerpt">
            <page name="v4p-start"></page>
            <div>
                <a class="btn btn-lg btn-primary btn-pink" href="" role="button" ng-click="voting.start()">Let's Start!</a>
            </div>
        </div>

    </div>
    <div class="row-fluid" ng-if="voting.started()">

        <div class="bg-white row-1080 text-center register-excerpt" ng-if="!voting.isActive()">
            <page name="v4p-end"></page>
        </div>
        <div class="col-lg-12 pt150 pb150 vote-slider-cnt" ng-if="voting.isActive()">
            <h3>{{voting.currentIdx()}}/{{voting.votes.length}}</h3>
            <div class="row-1140 vote-slider">
                <div class="vote-slide" ng-repeat="vote in voting.votes">
                    <div class="col-lg-5">
                        <span class="img-speaker" ng-repeat="speaker in vote.presentation.speakers">
                            <img class="img-responsive margin-auto clickable"
                                 data-lazy="{{speaker.photo}}"
                                 ng-class="{empty: speaker.photo == ''}"
                                 ng-click="voting.showSpeaker(speaker)"
                            />
                            <div class="mcci-header ta-leftperson-name vote-person">{{speaker.fullName}}</div>
                        </span>

                    </div>
                    <div class="col-lg-7 vote-info">
								<span class="social-speaker">
									<a class="vote-mark"
                                       ng-repeat="rate in voting.rating"
                                       ng-class="{selected: rate == vote.vote}"
                                       ng-click="voting.vote(rate)">{{rate}}</a>
								</span>
                        <div class="mcci-header ta-left pt30 vote-title"><h3>{{vote.presentation.title}}</h3></div>

                        <div class="mcci-header ta-left description-type">
                            <span class="selected" ng-click="voting.showInfo('short')"
                                  ng-class="{selected: voting.configuration.info == 'short'}">TL;DR</span> | <span
                                ng-click="voting.showInfo('full')" ng-class="{selected: voting.configuration.info == 'full'}">Full</span>
                        </div>

                        <div class="mcci-content ta-left" ng-bind-html="voting.getInfoFor(vote.presentation)">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>